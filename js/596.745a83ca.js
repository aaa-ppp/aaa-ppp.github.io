"use strict";(self["webpackChunkgallery"]=self["webpackChunkgallery"]||[]).push([[596],{9596:function(e,i,l){l.r(i),l.d(i,{default:function(){return X}});var t=l(6768);function s(e,i,l,s,o,n){const a=(0,t.g2)("SlideGroup"),r=(0,t.g2)("SlideShow");return(0,t.uX)(),(0,t.CE)("div",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.gallery_obs,i=>((0,t.uX)(),(0,t.Wv)(a,{key:i.id,gallery_ob:i,onShow_slide_show:e.onShowSlideShow},null,8,["gallery_ob","onShow_slide_show"]))),128)),(0,t.bF)(r,{img_in:e.show_img,imgs:e.show_imgs,onHide_slide_show:e.onHideSlideShow},null,8,["img_in","imgs","onHide_slide_show"])])}l(8111),l(116);var o=l(5130);const n={key:0,class:"w3-modal w3-black modal-show"},a={class:"w3-container w3-display-bottomright"},r=["src"];function h(e,i,l,s,h,d){return(0,t.uX)(),(0,t.Wv)(o.eB,{transition:"",name:"fade",mode:"out-in"},{default:(0,t.k6)(()=>[e.show?((0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("span",{class:"w3-text-white w3-xlarge w3-hover-text-grey w3-container w3-display-bottomleft",onClick:i[0]||(i[0]=i=>e.onShowPrev())},"❮"),(0,t.Lk)("span",a,[(0,t.Lk)("span",{class:"w3-text-white w3-xlarge w3-hover-text-grey",onClick:i[1]||(i[1]=i=>e.onShowNext())},"❯"),(0,t.Lk)("span",{class:"w3-text-white w3-xlarge w3-hover-text-grey",style:{padding:"0"},onClick:i[2]||(i[2]=i=>e.onClose())},"X")]),e.isAnimating?((0,t.uX)(),(0,t.CE)("span",{key:0,class:"w3-text-white w3-xlarge w3-hover-text-grey w3-container w3-display-bottommiddle",onClick:i[3]||(i[3]=i=>e.onPause())},"❚❚")):(0,t.Q3)("",!0),e.isAnimating?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("span",{key:1,class:"w3-text-white w3-xlarge w3-hover-text-grey w3-container w3-display-bottommiddle",onClick:i[4]||(i[4]=i=>e.onPlay())},"⏵")),(0,t.bF)(o.eB,{transition:"",name:"fade",mode:"out-in"},{default:(0,t.k6)(()=>[((0,t.uX)(),(0,t.CE)("img",{src:e.imgSrc,key:e.imgSrc},null,8,r))]),_:1})])):(0,t.Q3)("",!0)]),_:1})}var d=(0,t.pM)({name:"SlideShow",props:{img_in:{type:Object,required:!0},imgs:{type:Array,required:!0}},data(){return{img:this.img_in,timer_anim_handle:null}},computed:{imgSrc(){return this.img?this.img.pathBig:""},show(){return null!=this.img},isAnimating(){return null!=this.timer_anim_handle}},watch:{img_in(){this.img=this.img_in,this._prepare()}},methods:{onClose(){this.$emit("hide_slide_show")},onAnimToggle(){this._setAnimEnabled(!this.timer_anim_handle,!0)},onShowPrev(){this._setImage(-1)},onShowNext(){this._setImage(1)},onPause(){this._setAnimEnabled(!1,!0)},onPlay(){this._setAnimEnabled(!0,!0)},_setImage(e){var i=this.imgs.findIndex(e=>e===this.img);if(-1!==i){let l=i+e;const t=this.imgs.length;while(l>=t)l-=t;while(l<0)l+=t;this.img=this.imgs[l],null!=this.timer_anim_handle&&(clearInterval(this.timer_anim_handle),this.timer_anim_handle=setInterval(this.onShowNext,4e3))}},_prepare(){this._setAnimEnabled(this.show,!1)},_setAnimEnabled(e,i){this.timer_anim_handle?e||(clearInterval(this.timer_anim_handle),this.timer_anim_handle=null):e&&(this.timer_anim_handle=setInterval(this.onShowNext,i?16:4e3))}},mounted(){this._prepare()}}),m=l(1241);const g=(0,m.A)(d,[["render",h],["__scopeId","data-v-b02c2842"]]);var w=g,_=l(4232);const u={key:0},c={class:"w3-container w3-margin-bottom w3-margin-top"},y={class:"w3-border-bottom w3-border-grey"},p=["href"],b=["onClick"],S=["src"];function k(e,i,l,s,o,n){return e.show?((0,t.uX)(),(0,t.CE)("div",u,[(0,t.Lk)("div",c,[(0,t.Lk)("h3",y,(0,_.v_)(e.gallery_ob.title),1),e.show_download_all?((0,t.uX)(),(0,t.CE)("a",{key:0,href:e.gallery_ob.download_all},"Download",8,p)):(0,t.Q3)("",!0)]),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.rows,(i,l)=>((0,t.uX)(),(0,t.CE)("div",{class:"w3-row-padding",key:l},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i,i=>((0,t.uX)(),(0,t.CE)("div",{class:"w3-col l3 m6 w3-margin-bottom gal-item",key:i.id},[(0,t.Lk)("div",{class:"w3-round-large w3-border w3-border-dark-grey",onClick:l=>e.onShowSlideShow(i)},[(0,t.Lk)("img",{src:i.pathSmall,alt:"",class:"w3-display-middle"},null,8,S)],8,b)]))),128))]))),128))])):(0,t.Q3)("",!0)}l(8237);var v=(0,t.pM)({name:"SlideGroup",props:{gallery_ob:{type:Object,required:!0}},data(){return{imgs:[]}},computed:{rows(){return this._getChunks(this.imgs,4)},show(){return null!=this.gallery_ob&&this.imgs.length>0},show_download_all(){return null!=this.gallery_ob&&null!=this.gallery_ob.download_all}},watch:{gallery_ob(){this.imgs=[],this._maybeGetImgs()}},methods:{onShowSlideShow(e){this.$emit("show_slide_show",{img:e,imgs:this.imgs})},_maybeGetImgs(){null!=this.gallery_ob&&0===this.imgs?.length&&setTimeout(()=>{this.imgs=this.gallery_ob?.getImgs()??[]},16)},_getChunks(e,i){return e.reduce((l,t,s)=>s%i?l:[...l,e.slice(s,s+i)],[])}},mounted(){this._maybeGetImgs()}});const C=(0,m.A)(v,[["render",k],["__scopeId","data-v-12e490fc"]]);var f=C,x=l(8626),E=(0,t.pM)({name:"GalleryView",props:{gall_id:{type:String,default:""}},data(){return{gallery_obs:[],show_img:null,show_imgs:[],modal_scroll:0}},watch:{gall_id(){this.loadGall(this.gall_id)}},methods:{onShowSlideShow(e){this.show_img=e.img,this.show_imgs=e.imgs,this.modal_scroll=window.scrollY,document.body.classList.add("modal-open")},onHideSlideShow(){this.show_img=null,this.show_imgs=[],document.body.classList.remove("modal-open"),window.scroll(0,this.modal_scroll),this.modal_scroll=0},loadGall(e){const i=e&&x.H?x.H.find(i=>i.id==e):null;this.gallery_obs=i?.gallery_obs??[]}},created(){this.loadGall(this.gall_id)},components:{SlideGroup:f,SlideShow:w}});const I=(0,m.A)(E,[["render",s]]);var X=I}}]);
//# sourceMappingURL=596.745a83ca.js.map