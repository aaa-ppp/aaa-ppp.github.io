{"version":3,"file":"js/596.745a83ca.js","mappings":"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","sources":["webpack://gallery/./src/views/GalleryView.vue?e3b3","webpack://gallery/./src/views/GalleryView.vue","webpack://gallery/./src/components/SlideShow.vue?ae75","webpack://gallery/./src/components/SlideShow.vue","webpack://gallery/./src/components/SlideShow.vue?e944","webpack://gallery/./src/components/SlideGroup.vue?6f77","webpack://gallery/./src/components/SlideGroup.vue","webpack://gallery/./src/components/SlideGroup.vue?1b36","webpack://gallery/./src/views/GalleryView.vue?3c19"],"sourcesContent":["import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_SlideGroup = _resolveComponent(\"SlideGroup\")!\n  const _component_SlideShow = _resolveComponent(\"SlideShow\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.gallery_obs, (obI) => {\n      return (_openBlock(), _createBlock(_component_SlideGroup, {\n        key: obI.id,\n        gallery_ob: obI,\n        onShow_slide_show: _ctx.onShowSlideShow\n      }, null, 8, [\"gallery_ob\", \"onShow_slide_show\"]))\n    }), 128)),\n    _createVNode(_component_SlideShow, {\n      img_in: _ctx.show_img,\n      imgs: _ctx.show_imgs,\n      onHide_slide_show: _ctx.onHideSlideShow\n    }, null, 8, [\"img_in\", \"imgs\", \"onHide_slide_show\"])\n  ]))\n}","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n<template>\n  <div>\n    <SlideGroup\n      v-for=\"obI in gallery_obs\"\n      :key=\"obI.id\"\n      :gallery_ob=\"obI\"\n      @show_slide_show=\"onShowSlideShow\"\n    />\n    <SlideShow\n      :img_in=\"show_img\"\n      :imgs=\"show_imgs\"\n      @hide_slide_show=\"onHideSlideShow\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nimport SlideShow from \"@/components/SlideShow.vue\";\nimport SlideGroup from \"@/components/SlideGroup.vue\";\nimport { page_obs, GPage, GObj, GImg } from \"../database/database\";\n\nexport default defineComponent({\n  name: \"GalleryView\",\n  props: {\n    gall_id: {\n      type: String,\n      default: \"\",\n    },\n  },\n  data() {\n    return {\n      gallery_obs: [] as GObj[],\n      show_img: null as GImg | null,\n      show_imgs: [] as GImg[],\n      modal_scroll: 0 as number,\n    };\n  },\n  watch: {\n    gall_id() {\n      this.loadGall(this.gall_id);\n    },\n  },\n  methods: {\n    onShowSlideShow(obj: { img: GImg; imgs: GImg[] }) {\n      this.show_img = obj.img;\n      this.show_imgs = obj.imgs;\n      this.modal_scroll = window.scrollY;\n      document.body.classList.add(\"modal-open\");\n    },\n    onHideSlideShow() {\n      this.show_img = null;\n      this.show_imgs = [];\n      document.body.classList.remove(\"modal-open\");\n      window.scroll(0, this.modal_scroll);\n      this.modal_scroll = 0;\n    },\n    loadGall(gall_id: string) {\n      const gall =\n        gall_id && page_obs\n          ? page_obs.find((elI: GPage) => elI.id == gall_id)\n          : null;\n      this.gallery_obs = gall?.gallery_obs ?? [];\n    },\n  },\n  created() {\n    this.loadGall(this.gall_id);\n  },\n  components: {\n    SlideGroup,\n    SlideShow,\n  },\n});\n</script>\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"w3-modal w3-black modal-show\"\n}\nconst _hoisted_2 = { class: \"w3-container w3-display-bottomright\" }\nconst _hoisted_3 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createBlock(_Transition, {\n    transition: \"\",\n    name: \"fade\",\n    mode: \"out-in\"\n  }, {\n    default: _withCtx(() => [\n      (_ctx.show)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"span\", {\n              class: \"w3-text-white w3-xlarge w3-hover-text-grey w3-container w3-display-bottomleft\",\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.onShowPrev()))\n            }, \"❮\"),\n            _createElementVNode(\"span\", _hoisted_2, [\n              _createElementVNode(\"span\", {\n                class: \"w3-text-white w3-xlarge w3-hover-text-grey\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.onShowNext()))\n              }, \"❯\"),\n              _createElementVNode(\"span\", {\n                class: \"w3-text-white w3-xlarge w3-hover-text-grey\",\n                style: {\"padding\":\"0\"},\n                onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.onClose()))\n              }, \"X\")\n            ]),\n            (_ctx.isAnimating)\n              ? (_openBlock(), _createElementBlock(\"span\", {\n                  key: 0,\n                  class: \"w3-text-white w3-xlarge w3-hover-text-grey w3-container w3-display-bottommiddle\",\n                  onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.onPause()))\n                }, \"❚❚\"))\n              : _createCommentVNode(\"\", true),\n            (!_ctx.isAnimating)\n              ? (_openBlock(), _createElementBlock(\"span\", {\n                  key: 1,\n                  class: \"w3-text-white w3-xlarge w3-hover-text-grey w3-container w3-display-bottommiddle\",\n                  onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.onPlay()))\n                }, \"⏵\"))\n              : _createCommentVNode(\"\", true),\n            _createVNode(_Transition, {\n              transition: \"\",\n              name: \"fade\",\n              mode: \"out-in\"\n            }, {\n              default: _withCtx(() => [\n                (_openBlock(), _createElementBlock(\"img\", {\n                  src: _ctx.imgSrc,\n                  key: _ctx.imgSrc\n                }, null, 8, _hoisted_3))\n              ]),\n              _: 1\n            })\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }))\n}","<template>\n  <transition transition name=\"fade\" mode=\"out-in\">\n    <div v-if=\"show\" class=\"w3-modal w3-black modal-show\">\n      <span\n        class=\"w3-text-white w3-xlarge w3-hover-text-grey w3-container w3-display-bottomleft\"\n        v-on:click=\"onShowPrev()\"\n        >❮</span\n      >\n      <span class=\"w3-container w3-display-bottomright\">\n        <span\n          class=\"w3-text-white w3-xlarge w3-hover-text-grey\"\n          v-on:click=\"onShowNext()\"\n          >❯</span\n        >\n        <span\n          class=\"w3-text-white w3-xlarge w3-hover-text-grey\"\n          style=\"padding: 0\"\n          v-on:click=\"onClose()\"\n          >X</span\n        >\n      </span>\n      <span\n        class=\"w3-text-white w3-xlarge w3-hover-text-grey w3-container w3-display-bottommiddle\"\n        v-on:click=\"onPause()\"\n        v-if=\"isAnimating\"\n        >&#10074;&#10074;</span\n      >\n      <span\n        class=\"w3-text-white w3-xlarge w3-hover-text-grey w3-container w3-display-bottommiddle\"\n        v-on:click=\"onPlay()\"\n        v-if=\"!isAnimating\"\n        >&#9205;</span\n      >\n      <transition transition name=\"fade\" mode=\"out-in\">\n        <img :src=\"imgSrc\" :key=\"imgSrc\" />\n      </transition>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport { GImg } from \"../database/database\";\n\nexport default defineComponent({\n  name: \"SlideShow\",\n  props: {\n    img_in: {\n      type: Object as PropType<GImg | null>,\n      required: true,\n    },\n    imgs: {\n      type: Array as PropType<GImg[]>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      img: this.img_in as GImg | null,\n      timer_anim_handle: null as number | null,\n    };\n  },\n  computed: {\n    imgSrc(): string {\n      return this.img ? this.img.pathBig : \"\";\n    },\n    show(): boolean {\n      return this.img != null;\n    },\n    isAnimating(): boolean {\n      return this.timer_anim_handle != null;\n    },\n  },\n  watch: {\n    img_in() {\n      this.img = this.img_in;\n      this._prepare();\n    },\n  },\n  methods: {\n    onClose() {\n      this.$emit(\"hide_slide_show\");\n    },\n    onAnimToggle() {\n      this._setAnimEnabled(!this.timer_anim_handle, true);\n    },\n    onShowPrev() {\n      this._setImage(-1);\n    },\n    onShowNext() {\n      this._setImage(1);\n    },\n    onPause() {\n      this._setAnimEnabled(false, true);\n    },\n    onPlay() {\n      this._setAnimEnabled(true, true);\n    },\n    _setImage(add: number) {\n      var idx = this.imgs.findIndex((val) => val === this.img);\n      if (idx !== -1) {\n        let i1 = idx + add;\n        const maxI = this.imgs.length;\n        while (i1 >= maxI) {\n          i1 -= maxI;\n        }\n        while (i1 < 0) {\n          i1 += maxI;\n        }\n        this.img = this.imgs[i1];\n\n        if (this.timer_anim_handle != null) {\n          clearInterval(this.timer_anim_handle);\n          this.timer_anim_handle = setInterval(this.onShowNext, 4000);\n        }\n      }\n    },\n    _prepare() {\n      this._setAnimEnabled(this.show, false);\n    },\n    _setAnimEnabled(enable: boolean, quick: boolean) {\n      if (this.timer_anim_handle) {\n        if (!enable) {\n          clearInterval(this.timer_anim_handle);\n          this.timer_anim_handle = null;\n        }\n      } else {\n        if (enable) {\n          this.timer_anim_handle = setInterval(\n            this.onShowNext,\n            quick ? 16 : 4000\n          );\n        }\n      }\n    },\n  },\n  mounted() {\n    this._prepare();\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s ease;\n}\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n.modal-show {\n  display: block;\n  padding: 0 0 40px 0;\n}\n.modal-show span {\n  cursor: pointer;\n  user-select: none;\n  vertical-align: middle;\n  padding-right: 16px;\n}\n.modal-show img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  background-color: black;\n}\n</style>\n","import { render } from \"./SlideShow.vue?vue&type=template&id=b02c2842&scoped=true&ts=true\"\nimport script from \"./SlideShow.vue?vue&type=script&lang=ts\"\nexport * from \"./SlideShow.vue?vue&type=script&lang=ts\"\n\nimport \"./SlideShow.vue?vue&type=style&index=0&id=b02c2842&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b02c2842\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"w3-container w3-margin-bottom w3-margin-top\" }\nconst _hoisted_3 = { class: \"w3-border-bottom w3-border-grey\" }\nconst _hoisted_4 = [\"href\"]\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.show)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"h3\", _hoisted_3, _toDisplayString(_ctx.gallery_ob.title), 1),\n          (_ctx.show_download_all)\n            ? (_openBlock(), _createElementBlock(\"a\", {\n                key: 0,\n                href: _ctx.gallery_ob.download_all\n              }, \"Download\", 8, _hoisted_4))\n            : _createCommentVNode(\"\", true)\n        ]),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.rows, (row, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: \"w3-row-padding\",\n            key: index\n          }, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(row, (item) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"w3-col l3 m6 w3-margin-bottom gal-item\",\n                key: item.id\n              }, [\n                _createElementVNode(\"div\", {\n                  class: \"w3-round-large w3-border w3-border-dark-grey\",\n                  onClick: ($event: any) => (_ctx.onShowSlideShow(item))\n                }, [\n                  _createElementVNode(\"img\", {\n                    src: item.pathSmall,\n                    alt: \"\",\n                    class: \"w3-display-middle\"\n                  }, null, 8, _hoisted_6)\n                ], 8, _hoisted_5)\n              ]))\n            }), 128))\n          ]))\n        }), 128))\n      ]))\n    : _createCommentVNode(\"\", true)\n}","<template>\n  <div v-if=\"show\">\n    <div class=\"w3-container w3-margin-bottom w3-margin-top\">\n      <h3 class=\"w3-border-bottom w3-border-grey\">{{ gallery_ob.title }}</h3>\n      <a v-if=\"show_download_all\" v-bind:href=\"gallery_ob.download_all\"\n        >Download</a\n      >\n    </div>\n    <div class=\"w3-row-padding\" v-for=\"(row, index) in rows\" :key=\"index\">\n      <div\n        class=\"w3-col l3 m6 w3-margin-bottom gal-item\"\n        v-for=\"item in row\"\n        :key=\"item.id\"\n      >\n        <div\n          class=\"w3-round-large w3-border w3-border-dark-grey\"\n          v-on:click=\"onShowSlideShow(item)\"\n        >\n          <img :src=\"item.pathSmall\" alt=\"\" class=\"w3-display-middle\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport { GObj, GImg } from \"../database/database\";\n\nexport default defineComponent({\n  name: \"SlideGroup\",\n  props: {\n    gallery_ob: {\n      type: Object as PropType<GObj>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      imgs: [] as GImg[],\n    };\n  },\n  computed: {\n    rows(): GImg[][] {\n      return this._getChunks(this.imgs, 4);\n    },\n    show(): boolean {\n      return this.gallery_ob != null && this.imgs.length > 0;\n    },\n    show_download_all(): boolean {\n      return this.gallery_ob != null && this.gallery_ob.download_all != null;\n    },\n  },\n  watch: {\n    gallery_ob() {\n      this.imgs = [];\n      this._maybeGetImgs();\n    },\n  },\n  methods: {\n    onShowSlideShow(item: GImg) {\n      this.$emit(\"show_slide_show\", { img: item, imgs: this.imgs });\n    },\n    _maybeGetImgs() {\n      if (this.gallery_ob != null && this.imgs?.length === 0) {\n        // timeout to simulate request\n        setTimeout(() => {\n          this.imgs = this.gallery_ob?.getImgs() ?? [];\n        }, 16);\n      }\n    },\n    _getChunks(arr: GImg[], size: number): GImg[][] {\n      return arr.reduce(\n        (acc, _, i) => (i % size ? acc : [...acc, arr.slice(i, i + size)]),\n        [] as GImg[][]\n      );\n    },\n  },\n  mounted() {\n    this._maybeGetImgs();\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\nh3 {\n  padding-bottom: 0 !important;\n}\n.gal-item img {\n  max-width: 100%;\n  max-height: 100%;\n  padding: 16px;\n}\n.gal-item div {\n  height: 250px;\n  position: relative;\n}\n</style>\n","import { render } from \"./SlideGroup.vue?vue&type=template&id=12e490fc&scoped=true&ts=true\"\nimport script from \"./SlideGroup.vue?vue&type=script&lang=ts\"\nexport * from \"./SlideGroup.vue?vue&type=script&lang=ts\"\n\nimport \"./SlideGroup.vue?vue&type=style&index=0&id=12e490fc&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12e490fc\"]])\n\nexport default __exports__","import { render } from \"./GalleryView.vue?vue&type=template&id=9000b842&ts=true\"\nimport script from \"./GalleryView.vue?vue&type=script&lang=ts\"\nexport * from \"./GalleryView.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_SlideGroup","_resolveComponent","_component_SlideShow","_openBlock","_createElementBlock","_Fragment","_renderList","gallery_obs","obI","_createBlock","key","id","gallery_ob","onShow_slide_show","onShowSlideShow","_createVNode","img_in","show_img","imgs","show_imgs","onHide_slide_show","onHideSlideShow","_hoisted_1","class","_hoisted_2","_hoisted_3","_Transition","transition","name","mode","default","_withCtx","show","_createElementVNode","onClick","$event","onShowPrev","onShowNext","style","onClose","isAnimating","onPause","_createCommentVNode","onPlay","src","imgSrc","_","defineComponent","props","type","Object","required","Array","data","img","this","timer_anim_handle","computed","pathBig","watch","_prepare","methods","$emit","onAnimToggle","_setAnimEnabled","_setImage","add","idx","findIndex","val","i1","maxI","length","clearInterval","setInterval","enable","quick","mounted","__exports__","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","title","show_download_all","href","download_all","rows","row","index","item","pathSmall","alt","_getChunks","_maybeGetImgs","setTimeout","getImgs","arr","size","reduce","acc","i","slice","gall_id","String","modal_scroll","loadGall","obj","window","scrollY","document","body","classList","remove","scroll","gall","page_obs","find","elI","created","components","SlideGroup","SlideShow"],"sourceRoot":""}